[gd_scene format=3 uid="uid://d3qd0fnu5tto7"]

[ext_resource type="PackedScene" uid="uid://dtestuwkr6s75" path="res://Scenes/Objects/background_stalker.tscn" id="1_8lj1b"]
[ext_resource type="PackedScene" uid="uid://d1yf0ranyurq7" path="res://Scenes/Objects/player_symbol.tscn" id="1_e5yim"]
[ext_resource type="Script" uid="uid://dway2qno3gla7" path="res://Scripts/CombatHandler.gd" id="2_0hw85"]
[ext_resource type="Texture2D" uid="uid://cu380sq0huobk" path="res://Assets/Sprites/MecanicaSexyLesbiana/mecanica_sexy_lesbiana.png" id="2_ijxpn"]
[ext_resource type="Script" uid="uid://c4s10006jq08m" path="res://Scripts/background_stalker.gd" id="3_fjbyc"]
[ext_resource type="PackedScene" uid="uid://d25mq0uxv08tj" path="res://Scenes/Objects/follow_obstacle_spawner.tscn" id="3_j2r7m"]
[ext_resource type="PackedScene" uid="uid://c47nuqmygcvhh" path="res://Scenes/Objects/area_obstacle_spawner.tscn" id="4_rvhba"]
[ext_resource type="Resource" uid="uid://2325ngjkiawv" path="res://INGENIERA_COMBATE.dialogue" id="5_e5yim"]
[ext_resource type="Script" uid="uid://d3ml5oc5wl1tl" path="res://Scripts/attack_settings.gd" id="6_0hw85"]
[ext_resource type="Script" path="res://Scripts/combatTransition.gd" id="6_ijxpn"]
[ext_resource type="Texture2D" uid="uid://sy6nbcx3fy31" path="res://Assets/Placeholders/icon.svg" id="7_fjbyc"]
[ext_resource type="AudioStream" uid="uid://1q837a2cwok7" path="res://Assets/sounds/pelea.wav" id="8_lrios"]

[sub_resource type="Resource" id="Resource_j2r7m"]
script = ExtResource("6_0hw85")
metadata/_custom_type_script = "uid://d3ml5oc5wl1tl"

[sub_resource type="Resource" id="Resource_rvhba"]
script = ExtResource("6_0hw85")
density = 5
metadata/_custom_type_script = "uid://d3ml5oc5wl1tl"

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_0rcf7"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_44wcw"]
normal = Vector2(0, 1)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_srmwc"]
normal = Vector2(1, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_yx27u"]
normal = Vector2(-1, 0)

[sub_resource type="Animation" id="Animation_0rcf7"]
resource_name = "Fade_out"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:zoom")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2, 4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1.94, 1.94), Vector2(1.94, 1.94), Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:offset")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2, 4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(385, 200), Vector2(385, 200), Vector2(580, 330)]
}

[sub_resource type="Animation" id="Animation_44wcw"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:zoom")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1.615, 1.615)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:offset")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(300, 200)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_srmwc"]
_data = {
&"Fade_out": SubResource("Animation_0rcf7"),
&"RESET": SubResource("Animation_44wcw")
}

[node name="CombatScene" type="Node2D" unique_id=835763651]

[node name="background_stalker" parent="." unique_id=478206141 instance=ExtResource("1_8lj1b")]
position = Vector2(783, 1119)
texture = ExtResource("2_ijxpn")
script = ExtResource("3_fjbyc")

[node name="PlayerSymbol" parent="." unique_id=1723358663 instance=ExtResource("1_e5yim")]
position = Vector2(643, 352)

[node name="CombatHandler" type="Node2D" parent="." unique_id=1442692332]
position = Vector2(-449, -248)
script = ExtResource("2_0hw85")
attacks = Array[PackedScene]([ExtResource("3_j2r7m"), ExtResource("4_rvhba")])
dialogue = ExtResource("5_e5yim")
enemyName = "Lesbiana"
attack_settings = Array[ExtResource("6_0hw85")]([SubResource("Resource_j2r7m"), SubResource("Resource_rvhba")])

[node name="Walls" type="StaticBody2D" parent="." unique_id=549923059]

[node name="BottomWall" type="CollisionShape2D" parent="Walls" unique_id=1534140838]
position = Vector2(577, 867)
shape = SubResource("WorldBoundaryShape2D_0rcf7")

[node name="TopWall" type="CollisionShape2D" parent="Walls" unique_id=252940894]
position = Vector2(576, -213)
shape = SubResource("WorldBoundaryShape2D_44wcw")

[node name="LeftWall" type="CollisionShape2D" parent="Walls" unique_id=1565301508]
position = Vector2(-377, 327)
shape = SubResource("WorldBoundaryShape2D_srmwc")

[node name="RightWall" type="CollisionShape2D" parent="Walls" unique_id=1159334862]
position = Vector2(1544, 325)
shape = SubResource("WorldBoundaryShape2D_yx27u")

[node name="Camera2D" type="Camera2D" parent="." unique_id=1280868185]
offset = Vector2(300, 200)
zoom = Vector2(1.615, 1.615)

[node name="AnimationPlayer" type="AnimationPlayer" parent="Camera2D" unique_id=1054728192]
libraries/ = SubResource("AnimationLibrary_srmwc")
script = ExtResource("6_ijxpn")

[node name="CENTER" type="Node2D" parent="." unique_id=1924016792 groups=["CENTER"]]
position = Vector2(583, 330)

[node name="background" type="Sprite2D" parent="." unique_id=1317558563]
modulate = Color(0, 0, 0, 1)
z_index = -50
position = Vector2(467.49988, 351.00012)
scale = Vector2(24.523438, 15.609376)
texture = ExtResource("7_fjbyc")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="." unique_id=219638632]
stream = ExtResource("8_lrios")
autoplay = true
